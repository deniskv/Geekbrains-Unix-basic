# Домашняя работа 2

## Цель работы:
Ознакомиться с особенностями работы в терминале, изучить на практике применение кортежей команд, перенаправления ввода/выода, команды работы с файлами и их содержимым

## Ход работы:

**Просмотреть содержимое директорий /etc, /proc, /home.**
Просмотр содержимого директорий выполняется при помощи команды *ls*

>ls /etc

покажет содержимое директори etc

>ls -a /etc

покажет также скрытые файлы (начинающиеся с "." в имени)

>ls -la /etc

покажет полный список файлов, разрешения, какому пользователю /группе принадлежит файл и дату его создания

>man ls 

покажет весь список доступных флагов. 

**Посмотреть пару произвольных файлов в /etc.**
Для просмотря содежимого файла есть несколько команд:
+ *cat* выводит содержимое файла, который передается ей в качестве аргумента.
+ *nl* действует аналогично команде *cat*, но выводит еще и номера строк в столбце слева.
+ *less* выводит содержимое файла, но отображает его только в рамках текущего окна в режиме просмотра.
+ *more* в отличие от *less* не ждет q для закрытия окна, а возвращает управление в терминал по окончанию файла
+ *head* выводит на экран только первые 10 строк файла. Можно вывести и больше, например:

> head -15 fail.txt

+ *tail* аналогично *head*, но выводит последние 10 строк файла

Для более подробной информации по каждой из команд:

>man cat
>man nl
>man less
>man more
>man head
>man tail

**Используя данную команду _cat_, создать два файла с данными, а затем объединить их. Просмотреть содержимое созданного файла. Переименовать файл, дав ему новое имя.**

создадим два файла:

>cat first.txt

введем содержимое с клавиатуры

>cat second.txt

введем содержимое с клавиатуры

создадим третий файл - объединение двух предыдущих

>cat first.txt second.txt > third.txt

просмотрим содержимое

>cat third.txt

переименуем

>mv third.txt renamed_third.txt

**В ОС Linux скрытыми файлами считаются те, имена которых начинаются с символа “.”. Сколько скрытых файлов в вашем домашнем каталоге? (Использовать конвейер. Подсказка: для подсчета количества строк можно использовать wc.)**

Данную операцию можно выполнить двумя способами

>ls -ap | grep '^\.' | grep -v '\/$' |wc

Берем список содержимого директории, отфильтровываем не скрытые файлы и директории. 

Получаем ответ - 6 файлов 

Второй способ не рекомендуется выполнять, если заведомо известно, что файлов в директории больше, допустим 1000

пример команды:

>find -type f -name ".*" -maxdepth 1 -exec ls -la {} \ | wc

**Попробовать вывести с помощью cat все файлы в директории /etc. Направить ошибки в отдельный файл в вашей домашней директории. Сколько файлов, которые не удалось посмотреть, оказалось в списке?**

создаем лог в /home/user

> touch errors.log

Читайем файлы в директории и ошибки чтения пишем в лог

>for i in `ls -al /etc | grep '^-'`; do cat $i 2>> /home/user/errors.log

теперь узнаем количество ошибок 

>wc /home/user/errors.log

**Запустить в одном терминале программу, а в другом терминале посмотреть PID процесса и остановить с помощью kill, посылая разные типы сигналов. Что происходит?**

команда kill останавливает программу. Есть несколько сигналов для остановки:
+ 1 (SIGHUP) Информирование процесса о завершении родительского. Если родительский процесс завершен, дочерним будет отправлен сигнал 1. Либо при выполнить comand& (добавить символ &) что приведет к завершению программы при завершении консоли
+ 2 (SIGINT) Формируется при нажатии ctrl+c Завершает программу, но может быть перехвачен, например, если комбинация ctrl+c выполняет копирование текста. 
+ 8 (SIGFPE) В случае ошибки с целочисленной арифметикой (деление на ноль) сохраняется дамп
+ 9 (SIGKILL) Безусловное завершение программы, не перехватывается. Но не может завершить процесс зомби
+ 11 (SIGSEGV) Возникает в случае, если программа пытается обратиться к не принадлежащей ей области памяти. (Ошибка при работе с указателями)
+ 15 (SIGTERM) Завршение работы программы, дающее ей сохранить данные
+ и так далее

**Полезное задание на конвейер. Использовать команду cut на вывод длинного списка каталога, чтобы отобразить только права доступа к файлам. Затем отправить в конвейере этот вывод на sort и uniq, чтобы отфильтровать все повторяющиеся строки. Потом с помощью wc подсчитать различные типы разрешений в этом каталоге. Самостоятельно решить задачу, как сделать так, чтобы в подсчет не добавлялись строка «Итого» и файлы . и .. (ссылки на текущую и родительскую директории).**

>ls -AL | sed '1d' | cut -d' ' f1 | sort | uniq | wc

Пояснение: 
+ берем список без родительской и текущей директории (вместо -а используем -A)
+ убираем первую строчку (total)
+ из оставшейся таблицы берем первый столбец - с разрешениями
+ сортируем
+ убираем повторы
+ считаем

## Вывод

В ходе работы были изучены команды взаимодействия с файлами, работа с кортежами команд и управление вводом выводом. 